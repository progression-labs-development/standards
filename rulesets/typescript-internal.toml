# TypeScript - Internal
# Moderate checks for internal tools and services

# =============================================================================
# ESLint
# =============================================================================

[code.linting.eslint]
enabled = true
ignore = ["**/dist/**", "**/node_modules/**", "**/build/**"]
max-warnings = 0

[code.linting.eslint.rules]

# Code quality limits
"max-depth" = { severity = "error", max = 4 }
"max-params" = { severity = "error", max = 4 }
"max-lines-per-function" = "error"
"max-lines" = { severity = "error", max = 400 }
"complexity" = "error"
"no-console" = { severity = "warn", allow = ["error", "warn", "info"] }

# Core ESLint - Best practices
"eqeqeq" = "error"
"prefer-const" = "error"
"no-var" = "error"

# Core ESLint - Security
"no-eval" = "error"
"no-implied-eval" = "error"

# Core ESLint - Bug prevention
"array-callback-return" = "error"
"no-template-curly-in-string" = "error"
"consistent-return" = "error"

# Import plugin
"import/no-cycle" = { severity = "error", maxDepth = 5 }

# TypeScript-ESLint - Basic checks (AST-based, fast)
"@typescript-eslint/no-unused-vars" = { severity = "error", argsIgnorePattern = "^_", varsIgnorePattern = "^_" }
"@typescript-eslint/no-explicit-any" = "error"
"@typescript-eslint/no-non-null-assertion" = "error"

# =============================================================================
# TypeScript Compiler
# =============================================================================

[code.types.tsc]
enabled = true

[code.types.tsc.require]
strict = true
noImplicitAny = true
strictNullChecks = true
noUnusedLocals = true
noImplicitReturns = true
noFallthroughCasesInSwitch = true
esModuleInterop = true
skipLibCheck = true
forceConsistentCasingInFileNames = true

# =============================================================================
# Security
# =============================================================================

[code.security.secrets]
enabled = true

[code.security.pnpmaudit]
enabled = true

# =============================================================================
# Dead Code Detection
# =============================================================================

[code.unused.knip]
enabled = true

# =============================================================================
# Naming Conventions
# =============================================================================

[code.naming]
enabled = true

[[code.naming.rules]]
extensions = ["ts"]
file_case = "kebab-case"
folder_case = "kebab-case"

# =============================================================================
# Process - Git Hooks
# =============================================================================

[process.hooks]
enabled = true
require_husky = true
require_hooks = ["pre-push", "commit-msg"]

# =============================================================================
# Process - Commit Conventions
# =============================================================================

[process.commits]
enabled = true
types = ["feat", "fix", "chore", "docs", "refactor", "test", "style", "perf", "ci", "build"]
require_scope = false
max_subject_length = 100

# =============================================================================
# Process - Repository Settings
# =============================================================================

[process.repo]
enabled = true
require_branch_protection = true

[process.repo.ruleset]
branch = "main"
enforcement = "active"
required_reviews = 0
