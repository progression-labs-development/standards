# Base - Internal
# Process standards for internal repositories (root standards.toml)
# Relaxed compared to production: no pre-push hook, evaluate-only enforcement

# =============================================================================
# Process - Git Hooks
# =============================================================================

[process.hooks]
enabled = true
require_husky = true
require_hooks = ["commit-msg"]

# =============================================================================
# Process - Commit Conventions
# =============================================================================

[process.commits]
enabled = true
types = ["feat", "fix", "chore", "docs", "refactor", "test", "style", "perf", "ci", "build"]
require_scope = false
max_subject_length = 100

# =============================================================================
# Process - Repository Settings
# =============================================================================

[process.repo]
enabled = true
require_branch_protection = true

[process.repo.ruleset]
branch = "prod"  # Library repos override to "main" in their standards.toml
enforcement = "evaluate"
required_reviews = 0

# =============================================================================
# Process - Branch Naming
# =============================================================================

[process.branches]
enabled = true
pattern = "^(feat|fix|chore|docs|refactor|test|style|perf|ci|build|hotfix|release)/.+"
exclude = ["main", "prod", "staging", "dev"]

# =============================================================================
# Process - Documentation
# =============================================================================

[process.docs]
enabled = true

# =============================================================================
# Process - Forbidden Files
# =============================================================================

[process.forbidden_files]
enabled = true
files = [".env", ".env.local", "*.pem", "*.key"]

# =============================================================================
# Process - Coverage
# =============================================================================

[process.coverage]
enabled = true
min_threshold = 60

# =============================================================================
# Process - Changesets
# =============================================================================

[process.changesets]
enabled = true
validate_format = true
allowed_bump_types = ["patch", "minor", "major"]
